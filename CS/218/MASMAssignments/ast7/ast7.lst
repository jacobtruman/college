Microsoft (R) Macro Assembler Version 6.15.8803		    09/28/05 03:34:51
ast7.asm						     Page 1 - 1


				;   Jacob Truman Section 02
				;   Assignment 7


				.model medium
				.486


				;-----------------------------------------------------------
				          
 0000				.data

 0000 007A 002A 0092 004C	ilst	dw  122,  42, 146,  76, 120,  56, 164,  65, 155,  57
       0078 0038 00A4
       0041 009B 0039
 0014  0079 00BC 0021				dw	121, 188,  33,  05,  07, 101, 115, 108,  13, 115
       0005 0007 0065
       0073 006C 000D
       0073
 0028  0011 001A 0081				dw	 17,  26, 129, 117, 107, 105, 109,  10, 150,  14
       0075 006B 0069
       006D 000A 0096
       000E
 003C  0093 007B 002D				dw	147, 123,  45,  40,  65,  11,  54,  28,  13,  22
       0028 0041 000B
       0036 001C 000D
       0016
 0050  0045 001A 0047				dw	 69,  26,  71, 147,  28,  27, 119, 177,  75,  14
       0093 001C 001B
       0077 00B1 004B
       000E
 0064  00B5 0019 000F				dw	181,  25,  15,  22,  17,   5,  10, 129,  12, 134
       0016 0011 0005
       000A 0081 000C
       0086
 0078  003D 0022 0097				dw	 61,  34, 151,  32,  12,  29, 114,  22,  13, 131
       0020 000C 001D
       0072 0016 000D
       0083
 008C  007F 0040 000A				dw	127,  64,  10, 172,  24, 125,  16,  62,   8,  92
       00AC 0018 007D
       0010 003E 0008
       005C
 00A0  006F 00B7 0085				dw	111, 183, 133,  50,   5,  19, 115,   8, 113,  15
       0032 0005 0013
       0073 0008 0071
       000F
 00B4  001D 007E 003E				dw	 29, 126,  62,  17, 127,  77, 199,  79,  75,  14
       0011 007F 004D
       00C7 004F 004B
       000E
 00C8  0072 0019 0054				dw	114,  25,  84,  43,  76, 134,  26,  10,  56,  63
       002B 004C 0086
       001A 000A 0038
       003F
 00DC  0018 0010 0011				dw	 24,  16,  17, 183,  12,  81, 320,   7, 199, 190
       00B7 000C 0051
       0140 0007 00C7
       00BE
 00F0  00C1 0084 0092				dw	193, 132, 146, 186, 191, 186, 134, 125,  15,  76
       00BA 00BF 00BA
       0086 007D 000F
       004C
 0104  0043 00B7 0005				dw	 67, 183,   5, 114,  15,  11,  24, 128, 113, 112
       0072 000F 000B
       0018 0080 0071
       0070
 0118  0018 0010 0011				dw	 24,  16,  17,  83,  12, 121, 320,  17,  19,  90
       0053 000C 0079
       0140 0011 0013
       005A
 012C  0087 007E 007A				dw	135, 126, 122, 117, 127,  27,  19, 127, 125, 184
       0075 007F 001B
       0013 007F 007D
       00B8
 0140  0061 004A 00BE				dw	 97,  74, 190,   5,  24, 125, 116,  26,   5,  29
       0005 0018 007D
       0074 001A 0005
       001D
 0154  0068 007C 0070				dw	104, 124, 112, 143, 176,  34, 126, 112, 156, 103
       008F 00B0 0022
       007E 0070 009C
       0067
 0168  0045 001A 0047				dw	 69,  26,  71,  47,  28,  27,   9, 177,  75,  14
       002F 001C 001B
       0009 00B1 004B
       000E
 017C  0099 00AC 0092				dw	153, 172, 146, 176, 170, 156, 164, 165, 155, 156
       00B0 00AA 009C
       00A4 00A5 009B
       009C
 0190  005E 0019 0054				dw	 94,  25,  84,  43,  76,  34,  26,  13,  56,  63
       002B 004C 0022
       001A 000D 0038
       003F
 01A4  0093 0099 008F				dw	147, 153, 143, 140, 165, 191, 154, 168, 143, 162
       008C 00A5 00BF
       009A 00A8 008F
       00A2
 01B8  000B 0053 0085				dw	 11,  83, 133,  50,  25,  21,  15,   8,  13,  15
       0032 0019 0015
       000F 0008 000D
       000F
 01CC  00A9 0092 00A2				dw	169, 146, 162, 147, 157, 167, 169, 177, 175, 144
       0093 009D 00A7
       00A9 00B1 00AF
       0090
 01E0  001B 0040 000A				dw	 27,  64,  10,  72,  24,  25,  16,  62,  28,  92
       0048 0018 0019
       0010 003E 001C
       005C
 01F4  00B5 009B 0091				dw	181, 155, 145, 132, 167, 185, 150, 149, 182,  34
       0084 00A7 00B9
       0096 0095 00B6
       0022
 0208  0051 0019 000F				dw	 81,  25,  15,   9,  17,  25,  10, 129,  12, 134
       0009 0011 0019
       000A 0081 000C
       0086
 021C  00B1 00A4 00A0				dw	177, 164, 160, 172, 184, 175, 166,  62, 158,  72
       00AC 00B8 00AF
       00A6 003E 009E
       0048
 0230  007B 002A 0092				dw	123,  42, 146,  76,  20,  56,  64,  66, 155,  57
       004C 0014 0038
       0040 0042 009B
       0039
 0244  0027 007E 003E				dw	 39, 126,  62,   7, 127,  77, 199,  79, 175,  14
       0007 007F 004D
       00C7 004F 00AF
       000E
 0258 012C			len		dw	300
 025A 0000			imin	dw	?
 025C 0000			imed	dw	?
 025E 0000			imax	dw	?
 0260 0000			iavg	dw	?
 0262 0000			mvd		dw	?

				;-----------------------------------------------------------

				.stack

 0000				.code

 0000				main proc far
 0000  B8 ---- R			mov  ax, @data
 0003  8E D8				mov  ds, ax

				;---------------------------
				;-- Shaker Sort Algorithm --
				;---------------------------
					
 0005  8D 1E 0000 R			lea  bx, ilst
 0009  BA 0000				mov  dx, 0
 000C  89 16 0262 R			mov  mvd, dx	; moved flag
 0010  BE 0000				mov  si, 0		; set si register for min offset
 0013  B8 0002				mov  ax, 2
 0016  F7 26 0258 R			mul  len
 001A  8B F8				mov  di, ax		; set di register for max offset
 001C  83 EF 02				sub  di, 2
					
 001F				shk_lp:

 001F  BA 0000				mov  dx, 0
 0022  89 16 0262 R			mov  mvd, dx
 0026  8B CE				mov  cx, si
 0028  83 EF 02				sub  di, 2
 002B					mx_lp:
 002B  8B 00					mov  ax, word ptr [si][bx]
 002D  8B 50 02					mov  dx, word ptr 2[si][bx]
 0030  3B C2					cmp  ax, dx							; compare ilst[i] and ilst[i+1]
 0032  7C 0C					jl  skip_mxswap
 0034  89 10						mov  word ptr [si][bx], dx
 0036  89 40 02						mov  word ptr 2[si][bx], ax		; swap ilst[i] and ilst[i+1]
 0039  BA 0001						mov  dx, 1
 003C  89 16 0262 R					mov  mvd, dx
 0040						skip_mxswap:
 0040  83 C6 02					add  si, 2
 0043  3B F7					cmp  si, di
 0045  7E E4					jle  mx_lp
 0047  8B F1					mov  si, cx
						
 0049  8B CF				mov  cx, di
 004B  83 EF 02				sub  di, 2
 004E					mn_lp:
 004E  8B 01					mov  ax, word ptr [di][bx]
 0050  8B 51 02					mov  dx, word ptr 2[di][bx]
 0053  3B C2					cmp  ax, dx							; compare ilst[i] and ilst[i+1]
 0055  7C 0C					jl  skip_mnswap
 0057  89 11						mov  word ptr [di][bx], dx
 0059  89 41 02						mov  word ptr 2[di][bx], ax		; swap ilst[i] and ilst[i+1]
 005C  BA 0001						mov  dx, 1
 005F  89 16 0262 R					mov  mvd, dx
 0063						skip_mnswap:
 0063  83 EF 02					sub  di, 2
 0066  3B FE					cmp  di, si
 0068  7D E4					jge  mn_lp
 006A  83 C6 02					add  si, 2
 006D  8B F9				mov  di, cx
						
 006F  8B 16 0262 R		mov  dx, mvd
 0073  83 FA 00			cmp  dx, 0
 0076  75 A7			jne  shk_lp

				;--------------------------------
				;-- Assign List Minimum - imin --
				;--------------------------------

 0078  8B 07			mov  ax, word ptr [bx]
 007A  A3 025A R		mov  imin, ax

				;--------------------------------
				;-- Assign List Maximum - imax --
				;--------------------------------

 007D  B8 0002			mov  ax, 2
 0080  F7 26 0258 R		mul  len
 0084  8B F0			mov  si, ax
 0086  83 EE 02			sub  si, 2
 0089  8B 00			mov  ax, word ptr [si][bx]
 008B  A3 025E R		mov  imax, ax

				;----------------------------
				;-- Get List Median - imed --
				;----------------------------
 008E				avgb:


 008E  A1 0258 R		mov  ax, len
 0091  B9 0002			mov  cx, 2
 0094  F7 F1			div  cx
 0096  83 FA 00			cmp  dx, 0
 0099  74 10			je jmp_evn

 009B  8B 36 0258 R		mov  si, len
 009F  4E			dec  si
 00A0  8B 00			mov  ax, word ptr [si][bx]
 00A2  A3 025C R		mov  imed, ax
 00A5  3B 06 025C R		cmp  ax, imed
 00A9  74 11			je jmp_end

 00AB				jmp_evn:
 00AB  8B 36 0258 R			mov  si, len
 00AF  8B 00				mov  ax, word ptr [si][bx]
 00B1  03 40 02				add  ax, word ptr 2[si][bx]
 00B4  B9 0002				mov  cx, 2
 00B7  F7 F1				div  cx	
 00B9  A3 025C R			mov  imed, ax

 00BC				jmp_end:

				;-----------------------------
				;-- Get List Average - iavg --
				;-----------------------------

 00BC  B8 0002			mov  ax, 2
 00BF  F7 26 0258 R		mul  len
 00C3  83 E8 02			sub  ax, 2
 00C6  8B F0			mov  si, ax
 00C8  B8 0000			mov  ax, 0
 00CB				avg_lp:
 00CB  03 00				add  ax, word ptr [si][bx]
 00CD  83 EE 02				sub  si, 2
 00D0  83 FE 00				cmp	 si, 0
 00D3  7F F6				jg avg_lp
 00D5  8B 0E 0258 R		mov  cx, len
 00D9  F7 F1			div  cx
 00DB  A3 0260 R		mov  iavg, ax


				;-----------------------------
				;-- Done, terminate program --
				;-----------------------------

 00DE				last:
 00DE  B4 4C				mov  ah, 4ch
 00E0  CD 21				int  21h
 00E2				main endp

				end main

Microsoft (R) Macro Assembler Version 6.15.8803		    09/28/05 03:34:51
ast7.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

AST7_TEXT  . . . . . . . . . . .	16 Bit	 00E2	  Word	  Public  'CODE'	
DGROUP . . . . . . . . . . . . .	GROUP
_DATA  . . . . . . . . . . . . .	16 Bit	 0264	  Word	  Public  'DATA'	
STACK  . . . . . . . . . . . . .	16 Bit	 0400	  Para	  Stack	  'STACK'	 


Procedures,  parameters and locals:

                N a m e                 Type     Value    Attr

main . . . . . . . . . . . . . .	P Far	 0000	  AST7_TEXT	Length= 00E2 Public
  shk_lp . . . . . . . . . . . .	L Near	 001F	  AST7_TEXT	
  mx_lp  . . . . . . . . . . . .	L Near	 002B	  AST7_TEXT	
  skip_mxswap  . . . . . . . . .	L Near	 0040	  AST7_TEXT	
  mn_lp  . . . . . . . . . . . .	L Near	 004E	  AST7_TEXT	
  skip_mnswap  . . . . . . . . .	L Near	 0063	  AST7_TEXT	
  avgb . . . . . . . . . . . . .	L Near	 008E	  AST7_TEXT	
  jmp_evn  . . . . . . . . . . .	L Near	 00AB	  AST7_TEXT	
  jmp_end  . . . . . . . . . . .	L Near	 00BC	  AST7_TEXT	
  avg_lp . . . . . . . . . . . .	L Near	 00CB	  AST7_TEXT	
  last . . . . . . . . . . . . .	L Near	 00DE	  AST7_TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 0001h	 
@DataSize  . . . . . . . . . . .	Number	 0000h	 
@Interface . . . . . . . . . . .	Number	 0000h	 
@Model . . . . . . . . . . . . .	Number	 0004h	 
@code  . . . . . . . . . . . . .	Text   	 AST7_TEXT
@data  . . . . . . . . . . . . .	Text   	 DGROUP
@fardata?  . . . . . . . . . . .	Text   	 FAR_BSS
@fardata . . . . . . . . . . . .	Text   	 FAR_DATA
@stack . . . . . . . . . . . . .	Text   	 DGROUP
iavg . . . . . . . . . . . . . .	Word	 0260	  _DATA	
ilst . . . . . . . . . . . . . .	Word	 0000	  _DATA	
imax . . . . . . . . . . . . . .	Word	 025E	  _DATA	
imed . . . . . . . . . . . . . .	Word	 025C	  _DATA	
imin . . . . . . . . . . . . . .	Word	 025A	  _DATA	
len  . . . . . . . . . . . . . .	Word	 0258	  _DATA	
mvd  . . . . . . . . . . . . . .	Word	 0262	  _DATA	

	   0 Warnings
	   0 Errors
